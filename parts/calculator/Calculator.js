!function(){"use strict";class e{constructor(){this.buttonEl=document.querySelector(".calculator__button"),this.inputPhoneEl=document.querySelector(".calculator .mask-phone"),this.errorPhone=document.querySelector(".calculator__error-phone"),this.brandEmptyEl=document.querySelector(".brand-empty"),this.defectEmptyEl=document.querySelector(".defect-empty")}init(e,t){this.addButtonClickListener(),this.addMaskPhone(),this.loadBrandsInSelect(e),this.loadDefectsInSelect(t),this.addSelectizeBrandAndDefect()}addButtonClickListener(){this.buttonEl.addEventListener("click",()=>{""==this.inputPhoneEl.value?this.errorPhone.style.display="block":this.errorPhone.style.display="none"})}addMaskPhone(){$(".calculator .mask-phone").mask("+375 (99) 999-99-99"),$(".calculator .mask-phone").on("keyup",function(){12==$(".calculator .mask-phone").val().match(/\d+/g).join("").length&&$(".calculator__error-phone").css("display","none")})}loadBrandsInSelect(e){let t="";for(var n of e)t+=`<option value="${n.name}">${n.name}</option>`;this.brandEmptyEl.insertAdjacentHTML("afterend",t)}loadDefectsInSelect(e){let t="";for(var n of e)t+=`<option value="${n.name}">${n.name}</option>`;this.defectEmptyEl.insertAdjacentHTML("afterend",t)}addSelectizeBrandAndDefect(){$("#brand").selectize({placeholder:"Марка автомобиля"}),$("#defect").selectize({placeholder:"Укажите неисправность"})}}window.addEventListener("load",()=>{(new e).init(brands,services)})}();